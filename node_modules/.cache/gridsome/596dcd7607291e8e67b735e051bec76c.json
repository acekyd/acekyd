{"remainingRequest":"/Users/adewaleabati/Documents/code/acekyd/node_modules/babel-loader/lib/index.js??ref--1-1!/Users/adewaleabati/Documents/code/acekyd/node_modules/gridsome/app/directives/image.js","dependencies":[{"path":"/Users/adewaleabati/Documents/code/acekyd/node_modules/gridsome/app/directives/image.js","mtime":499162500000},{"path":"/Users/adewaleabati/Documents/code/acekyd/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/adewaleabati/Documents/code/acekyd/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es.array.for-each\";\nimport \"core-js/modules/es.array.from\";\nimport \"core-js/modules/es.string.ends-with\";\nimport \"core-js/modules/es.string.iterator\";\nimport \"core-js/modules/web.dom-collections.for-each\";\nimport caniuse from '../utils/caniuse';\nimport { addClass, removeClass } from '../utils/class';\nimport { createObserver } from '../utils/intersectionObserver';\nvar observer = caniuse.IntersectionObserver ? createObserver(intersectionHandler) : null;\nexport default {\n  inserted: function inserted(el) {\n    observe(el);\n  },\n  update: function update(el) {\n    observe(el);\n  },\n  unbind: function unbind(el) {\n    unobserve(el);\n  }\n};\n\nfunction intersectionHandler(_ref) {\n  var intersectionRatio = _ref.intersectionRatio,\n      target = _ref.target;\n\n  if (intersectionRatio > 0) {\n    observer.unobserve(target);\n    loadImage(target);\n  }\n}\n\nfunction observe(el) {\n  if (el.tagName !== 'IMG') {\n    observeHtml(el);\n  } else {\n    if (!observer) loadImage(el);else observer.observe(el);\n  }\n}\n\nfunction unobserve(el) {\n  if (el.tagName !== 'IMG') {\n    unobserveHtml(el);\n  } else if (observer) {\n    observer.unobserve(el);\n  }\n}\n\nfunction observeHtml() {\n  var context = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document;\n  var images = context.querySelectorAll('[data-src]');\n\n  if (observer) {\n    images.forEach(function (el) {\n      return !el.__vue__ && observer.observe(el);\n    });\n  } else {\n    Array.from(images).forEach(function (el) {\n      return !el.__vue__ && loadImage(el);\n    });\n  }\n}\n\nfunction unobserveHtml() {\n  var context = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document;\n\n  if (observer) {\n    context.querySelectorAll('[data-src]').forEach(function (el) {\n      if (!el.__vue__) observer.unobserve(el);\n    });\n  }\n}\n\nfunction loadImage(el) {\n  var src = el.getAttribute('data-src');\n  var sizes = el.getAttribute('data-sizes');\n  var srcset = el.getAttribute('data-srcset');\n\n  if (!src || el.src.endsWith(src)) {\n    return; // src is already switched\n  }\n\n  el.onload = function () {\n    removeClass(el, 'g-image--loading');\n    addClass(el, 'g-image--loaded');\n  };\n\n  el.srcset = srcset;\n  el.sizes = sizes;\n  el.src = src;\n}",{"version":3,"sources":["/Users/adewaleabati/Documents/code/acekyd/node_modules/gridsome/app/directives/image.js"],"names":["caniuse","addClass","removeClass","createObserver","observer","IntersectionObserver","intersectionHandler","inserted","el","observe","update","unbind","unobserve","intersectionRatio","target","loadImage","tagName","observeHtml","unobserveHtml","context","document","images","querySelectorAll","forEach","__vue__","Array","from","src","getAttribute","sizes","srcset","endsWith","onload"],"mappings":"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","sourcesContent":["import caniuse from '../utils/caniuse'\nimport { addClass, removeClass } from '../utils/class'\nimport { createObserver } from '../utils/intersectionObserver'\n\nconst observer = caniuse.IntersectionObserver\n  ? createObserver(intersectionHandler)\n  : null\n\nexport default {\n  inserted (el) {\n    observe(el)\n  },\n  update (el) {\n    observe(el)\n  },\n  unbind (el) {\n    unobserve(el)\n  }\n}\n\nfunction intersectionHandler ({ intersectionRatio, target }) {\n  if (intersectionRatio > 0) {\n    observer.unobserve(target)\n    loadImage(target)\n  }\n}\n\nfunction observe (el) {\n  if (el.tagName !== 'IMG') {\n    observeHtml(el)\n  } else {\n    if (!observer) loadImage(el)\n    else observer.observe(el)\n  }\n}\n\nfunction unobserve (el) {\n  if (el.tagName !== 'IMG') {\n    unobserveHtml(el)\n  } else if (observer) {\n    observer.unobserve(el)\n  }\n}\n\nfunction observeHtml (context = document) {\n  const images = context.querySelectorAll('[data-src]')\n\n  if (observer) {\n    images.forEach(el => !el.__vue__ && observer.observe(el))\n  } else {\n    Array.from(images).forEach(el => !el.__vue__ && loadImage(el))\n  }\n}\n\nfunction unobserveHtml (context = document) {\n  if (observer) {\n    context.querySelectorAll('[data-src]').forEach(el => {\n      if (!el.__vue__) observer.unobserve(el)\n    })\n  }\n}\n\nfunction loadImage (el) {\n  const src = el.getAttribute('data-src')\n  const sizes = el.getAttribute('data-sizes')\n  const srcset = el.getAttribute('data-srcset')\n\n  if (!src || el.src.endsWith(src)) {\n    return // src is already switched\n  }\n\n  el.onload = () => {\n    removeClass(el, 'g-image--loading')\n    addClass(el, 'g-image--loaded')\n  }\n\n  el.srcset = srcset\n  el.sizes = sizes\n  el.src = src\n}\n"]}]}